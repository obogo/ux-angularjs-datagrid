/*!
* ux-angularjs-datagrid v.1.4.11
* (c) 2016, Obogo
* https://github.com/obogo/ux-angularjs-datagrid
* License: MIT.
*/
(function (exports, global) {
if (typeof define === "function" && define.amd) {
  define(exports);
} else if (typeof module !== "undefined" && module.exports) {
  module.exports = exports;
} else {
  global.ux = exports;
}


!function(a,b){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&module.exports?module.exports=a:b.ux=a,angular.module("ux").factory("infiniteScroll",function(){return["inst","$filter",function(a,b){function c(){if(ux.selector&&a.element[0].contains(document.activeElement)){var b=a.getRowIndexFromElement(document.activeElement),c=a.getRowElm(b),d=document.activeElement;e={rowIndex:b,selector:ux.selector.quickSelector(d,c[0],a.options.gridFocusManager&&a.options.gridFocusManager.filterClasses||[])},e.selector=e.selector.replace(/:visible$/,"")}else e=null}function d(){return"function"==typeof a.options.infiniteScroll.limit?a.options.infiniteScroll.limit():a.options.infiniteScroll.limit||0}var e,f={},g=-1,h={_template:"loadingRow"},i=[];a.options.infiniteScroll=a.options.infiniteScroll||{},a.options.infiniteScroll.enable=void 0===a.options.infiniteScroll.enable?!0:a.options.infiniteScroll.enable,a.options.infiniteScroll.limit=void 0===a.options.infiniteScroll.limit?0:a.options.infiniteScroll.limit,f.onBeforeDataChange=function(e,g,h){if(a.options.infiniteScroll.enable&&g){var i=d();i&&(c(),e.newValue=b("limitTo")(g,i),e.newValue.length<i&&(e.preventDefault(),f.addExtraRow(e.newValue)))}},f.getLimit=d,f.addExtraRow=function(b){g=a.values.scroll,b.length&&b[b.length-1]!==h&&(a.element.addClass("loadingInfiniteRowData"),b.push(h))},f.afterRowsAdded=function(b){var c,d;a.element.removeClass("loadingInfiniteRowData"),e&&(c=a.getRowElm(e.rowIndex),d=c[0].querySelector(e.selector),d.select&&d.select(),d&&d.focus())},f.enable=function(){i.push(a.scope.$on(ux.datagrid.events.ON_BEFORE_DATA_CHANGE,f.onBeforeDataChange)),i.push(a.scope.$on(ux.datagrid.events.ON_RENDER_AFTER_DATA_CHANGE,f.afterRowsAdded))},f.disable=function(){for(;i.length;)i.pop()()},f.destroy=function(){f.disable(),h=null,f=null},f.enable(),a.infiniteScroll=f}]})}(this.ux=this.ux||{},function(){return this}());
//# sourceMappingURL=ux-datagrid-infiniteScroll.min.js.map
}(this.ux = this.ux || {}, function() {return this;}()));
